(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{842:function(e,r,t){Promise.resolve().then(t.bind(t,7340))},7340:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return o}});var s=t(7437),a=t(2265),n=t(9376);let l="https://docs.google.com/spreadsheets/d/e/2PACX-1vSUoGB4mnijJGf2Uaq9wLR5mDg5COHwcQnwlvnknS2nmAEa76p_xmGBJOsZNN1JsivwGO3DYuXnUqeQ/pub?output=csv";function o(){let e=(0,n.useRouter)(),[r,t]=(0,a.useState)(""),[o,i]=(0,a.useState)(""),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch(l),r=await e.text(),s=e=>{let r=[],t="",s=!1;for(let a=0;a<e.length;a++){let n=e[a];'"'===n?s=!s:","!==n||s?t+=n:(r.push(t),t="")}return r.push(t),r.map(e=>e.replace(/^"|"$/g,"").trim())},a=r.split("\n").slice(1).map(e=>{let[r,t,a]=s(e),n=parseInt(a);return console.log("Parsed year:",n,"from line:",e),n}).filter(e=>!isNaN(e));console.log("All parsed years:",a);let n=Math.min(...a),o=Math.max(...a);console.log("Min year:",n,"Max year:",o),d({minYear:n,maxYear:o}),t(n.toString()),i(o.toString()),m(!1)}catch(e){console.error("Error fetching year range:",e),m(!1)}})()},[]);let p=e=>{if(!c)return!1;let r=parseInt(e);return!isNaN(r)&&r>=c.minYear&&r<=c.maxYear},x=()=>p(r)&&p(o)&&parseInt(r)<=parseInt(o),h=(e,r)=>{let s=e.target.value;"min"===r?t(s):i(s)};return u?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-blue-500 to-purple-600",children:(0,s.jsx)("div",{className:"bg-white p-8 rounded-2xl shadow-2xl",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-purple-500 border-t-transparent"}),(0,s.jsx)("div",{className:"text-2xl font-semibold text-gray-700",children:"Loading..."})]})})}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-blue-500 to-purple-600 p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 space-y-8",children:[(0,s.jsxs)("div",{className:"text-center space-y-2",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-500 bg-clip-text text-transparent",children:"Music Quiz Generator"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Test your music knowledge across different eras"})]}),(0,s.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),!x())return;let s=new URLSearchParams({minYear:r,maxYear:o,songList:l});e.push("/quiz?".concat(s.toString()))},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("label",{className:"block text-lg font-semibold text-gray-700",children:"Year Range"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"From"}),(0,s.jsx)("input",{type:"number",placeholder:null==c?void 0:c.minYear.toString(),value:r,onChange:e=>h(e,"min"),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 ".concat(r&&!p(r)?"border-red-500":"border-gray-300")}),r&&!p(r)&&(0,s.jsxs)("p",{className:"mt-1 text-xs text-red-500",children:["Enter a year between ",null==c?void 0:c.minYear," and ",null==c?void 0:c.maxYear]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"To"}),(0,s.jsx)("input",{type:"number",placeholder:null==c?void 0:c.maxYear.toString(),value:o,onChange:e=>h(e,"max"),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 ".concat(o&&!p(o)?"border-red-500":"border-gray-300")}),o&&!p(o)&&(0,s.jsxs)("p",{className:"mt-1 text-xs text-red-500",children:["Enter a year between ",null==c?void 0:c.minYear," and ",null==c?void 0:c.maxYear]})]})]}),p(r)&&p(o)&&parseInt(r)>parseInt(o)&&(0,s.jsx)("p",{className:"text-xs text-red-500",children:"End year must be greater than or equal to start year"})]}),(0,s.jsxs)("div",{className:"text-center text-sm text-gray-600",children:["Using ",(0,s.jsx)("a",{href:"https://docs.google.com/spreadsheets/d/e/2PACX-1vSUoGB4mnijJGf2Uaq9wLR5mDg5COHwcQnwlvnknS2nmAEa76p_xmGBJOsZNN1JsivwGO3DYuXnUqeQ/pubhtml",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-800 underline",children:"default song list"})]})]}),(0,s.jsx)("button",{type:"submit",disabled:!x(),className:"w-full py-3 px-6 text-white font-semibold bg-gradient-to-r from-purple-600 to-blue-500 rounded-lg shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:shadow-lg",children:"Generate Quiz"})]})]})})}},9376:function(e,r,t){"use strict";var s=t(5475);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=842)}),_N_E=e.O()}]);